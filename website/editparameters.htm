<!DOCTYPE html>
<div ng-controller="profileCtrl">
    <h2><i class="icon-equalizer"></i> Edit parameters</h2>

    <div class="row">
        <div class="col-md-5 panel panel-default" style="min-width: 450px">
            <div class="panel-body">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">Profiles</h3>
                    </div>
                    <div class="panel-body">
                        <div class="btn-group">
                            <button type="button" class="btn btn-default" ng-click="newProfile()">New <i class="fa fa-file-o"></i></button>
                            <button type="button" class="btn btn-default" ng-click="deleteProfile()" ng-class="editingParam == true ? 'disabled' : ''">Delete <i class="fa fa-trash-o"></i></button>
                            <button type="button" class="btn btn-default" ng-click="editParameters()" ng-class="editingParam == true ? 'disabled' : ''">Edit <i class="fa fa-pencil-square-o"></i></button>
                            <button type="button" class="btn btn-default" ng-click="activateProfile()">Activate <i class="fa fa-check-square-o"></i></button>
                        </div>
                        <div class="spacer">

                        </div>
                        <div>
                            <div>
                                <!--div class="list-group" style="max-height: 300px; overflow-y:scroll;">
                                    <a href="" class="list-group-item" ng-repeat="profile in profiles">
										{{profile.name}}
									</a>

                                </div-->
                                <div class="list-group">

                                    <select class="form-control" ng-model="selectedProfile" ng-options="profile as profile.name for profile in profiles" size="7">
									</select>
                                </div>
                            </div>
                        </div>

                        <strong>Active profile:</strong> {{activeProfile.name}}
                    </div>
                </div>
					<!--button class="btn btn-default" ng-click="test()">test</button-->
        </div>

        </div>

        <div ng-show="editingParam" class="col-md-5 col-md-offset-025 panel panel-default" style="max-width: 350px">
            <div class="panel-body">
                <div class="panel-heading">
                    <h3 class="panel-title" ng-hide="editName" ng-click="editName=true">Edit '{{profile.name}}' <i class="fa fa-pencil-square-o"></i></h3>
                    <form ng-show="editName">
                        <div class="input-group">
                            <input type="text" class="form-control" value="{{profile.name}}" ng-model="profile.name">
                            <div class="input-group-btn">
                                <button class="btn btn-success" type="submit" ng--click="editName=false">
									<i class="glyphicon glyphicon-ok"></i>
								</button>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="panel-body">
                    <div ng-repeat="(key,val) in profile.parameters track by $index" ng-mouseover="hoverIn()" ng-mouseleave="hoverOut()">
                        <div class="input-group">
                            <span class="input-group-addon">{{profile.parameterNames[key]}}</span>
                            <input type="number" step="0.01" class="form-control" ng-model="profile.parameters[key]">
							<div class="input-group-btn">
								<button class="btn btn-danger" type="submit" ng--click="removeParameter()" ng-show="hoverEdit">
									<i class="fa fa-minus"></i>
								</button>
							</div>
                        </div>
                        <div class="col-xs-12" style="height:10px;"></div>
                    </div>
					<div class="input-group">
						<input type="text" class="form-control" placeholder="Parameter Name" ng-model="newParamName">
						<div class="input-group-btn">
							<button class="btn btn-primary" type="submit" ng--click="addParameter()">
								<i class="fa fa-plus"></i>
							</button>
						</div>
					</div>

                    <div class="col-xs-12" style="height:10px;"></div>
                    <button class="btn btn-lg btn-success" ng-click="saveProfile()">Save <i class="glyphicon glyphicon-floppy-disk"></i></button>
                    <button class="btn btn-lg btn-danger" ng-click="revertProfile()">Revert <i class="fa fa-undo fa-ban" ></i></button>

                </div>
                <div class="alert alert-info">
                    <strong>Info:</strong><br /> To edit another profile save changes first, or revert to the old parameters and then save!
                </div>
            </div>
        </div>
    </div>
</div>
